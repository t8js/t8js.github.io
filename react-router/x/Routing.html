<!DOCTYPE html>
<html lang="en" data-layout="section">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="T8 React Router: Routing">
  <title>Routing | T8 React Router</title>
  <link rel="stylesheet" href="https://unpkg.com/@t8/docsgen@0.3/dist/css/base.css">
  <link rel="stylesheet" href="https://unpkg.com/@t8/docsgen@0.3/dist/css/section.css">
  <link rel="icon" type="image/png" href="/assets/t8.png">
  <link rel="prefetch" href="/react-router/x/Navigation">
</head>
<body>
<div class="layout">
<div class="body">
<main>
<h1><a href="/react-router/">T8 React Router</a></h1>
<h2>Routing</h2>
<p>The following example runs through the essential parts of routing code. The <code>at(route, x, y)</code> function returns a value based on whether the <code>route</code> parameter matches the current URL. It acts similarly to the conditional operator <code>atRoute ? x : y</code> and is equally applicable to components and prop values. The route link component that is used for SPA navigation acts and looks similar to the HTML link tag.</p>
<pre><code class="language-jsx">import { A, useRoute } from "@t8/react-router";
import { Intro } from "./Intro";
import { Section } from "./Section";

let App = () =&gt; {
  let { at } = useRoute();

  return (
    &lt;&gt;
      &lt;header className={at("/", "full", "compact")}&gt;
        &lt;h1&gt;App&lt;/h1&gt;
        &lt;nav&gt;
          &lt;A href="/"&gt;Intro&lt;/A&gt;{" | "}
          &lt;A href="/sections/1"&gt;Section 1&lt;/A&gt;
        &lt;/nav&gt;
      &lt;/header&gt;
      {at("/", &lt;Intro/&gt;)}
      {at(/^\/sections\/(?&lt;id&gt;\d+)\/?$/, ({ params }) =&gt; (
        &lt;Section id={params.id}/&gt;
      ))}
    &lt;/&gt;
  );
};
</code></pre>
<p><a href="https://codesandbox.io/p/sandbox/63xzd4?file=%252Fsrc%252FApp.tsx" target="_blank">Live demo</a></p>
<p>⬥ As mentioned above, <code>at(route, x, y)</code> acts similarly to the ternary operator <code>atRoute ? x : y</code> often used with conditional rendering, which route-based rendering essentially is: it returns <code>x</code> if the current URL matches <code>route</code>, and <code>y</code> otherwise. Having the ternary function rather than the ternary conditional operator allows for additional flexibility, like omitting an <code>undefined</code> fallback parameter (as with <code>at("/", &lt;Intro/&gt;)</code> in the example above) or resolving as a dynamic value based on <code>params</code> extracted from the route pattern (as with <code>&lt;Section id={params.id}/&gt;</code> above).</p>
<p>While the component-, config-, and file-based approaches that many routers tend to adopt are focused on component rendering, requiring an extra route matching hook for route-based prop values, <code>at(route, x, y)</code> works equally with both components and prop values (and with any other route-based values).</p>
<p>⬥ <code>at()</code> calls are independent from each other, they don't have to maintain a certain order, they shouldn't be necessarily grouped in a single component (although they can be, as in the example above). Components with route-based logic can be split like any other components.</p>
<p>⬥ With a regular expression route pattern, <code>params</code> contains values of its capturing groups accessible by numeric indices; named capturing group values can also be retrieved by their names (like <code>params.id</code> in the example above).</p>
<p>⬥ Route-based rendering with the React's <code>&lt;Activity&gt;</code> component looks similar to what we've seen in the example above:</p>
<pre><code class="language-jsx">// Without Activity
{at("/about", &lt;About/&gt;)}

// With Activity
&lt;Activity mode={at("/about", "visible", "hidden")}&gt;
  &lt;About/&gt;
&lt;/Activity&gt;
</code></pre>
<p class="pagenav">
  <span class="prev">
    <span class="icon">←</span>
    <a href="/react-router/">Intro</a>
  </span>
  <span class="sep">|</span>
  <span class="next"><a href="/react-router/x/Navigation">Navigation</a> <span class="icon">→</span></span>
</p>
</main>
<hr>
<nav class="aux">
<section>
<p class="title">Contents</p>
<ul><li data-id="Routing"><strong>Routing</strong></li>
<li data-id="Navigation"><a href="/react-router/x/Navigation">Navigation</a></li>
<li data-id="Link_props"><a href="/react-router/x/Link_props">Link props</a></li>
<li data-id="Middleware"><a href="/react-router/x/Middleware">Middleware</a></li>
<li data-id="URL_parameters"><a href="/react-router/x/URL_parameters">URL parameters</a></li>
<li data-id="Type_safety"><a href="/react-router/x/Type_safety">Type safety</a></li>
<li data-id="Nested_routes"><a href="/react-router/x/Nested_routes">Nested routes</a></li>
<li data-id="URL_provider"><a href="/react-router/x/URL_provider">URL provider</a></li>
<li data-id="Custom_routing_behavior"><a href="/react-router/x/Custom_routing_behavior">Custom routing behavior</a></li>
<li data-id="Unknown_routes"><a href="/react-router/x/Unknown_routes">Unknown routes</a></li>
<li data-id="Lazy_routes"><a href="/react-router/x/Lazy_routes">Lazy routes</a></li>
<li data-id="Animated_view_transitions"><a href="/react-router/x/Animated_view_transitions">Animated view transitions</a></li>
<li data-id="Converting_HTML_links_to_SPA_route_links"><a href="/react-router/x/Converting_HTML_links_to_SPA_route_links">Converting HTML links to SPA route links</a></li>
</ul>
<p class="title">Resources</p>
<ul>
  <li><a href="https://github.com/t8js/react-router" target="_blank">GitHub</a></li>
  <li><a href="https://www.npmjs.com/package/@t8/react-router" target="_blank">npm</a></li>
</ul>
</section>
<section class="related">
  <p class="title">Also with React</p>
  <ul>
    <li><a href="/react-store" data-name="@t8/react-store">T8 React Store</a></li>
    <li><a href="/react-pending" data-name="@t8/react-pending">T8 React Pending</a></li>
  </ul>
  <p class="title">Vanilla TS/JS</p>
  <ul>
    <li><a href="/router" data-name="@t8/router">T8 Router</a></li>
    <li><a href="/store" data-name="@t8/store">T8 Store</a></li>
  </ul>
</section>
</nav>
</div>
</div>
<link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/stackoverflow-light.min.css" media="(prefers-color-scheme: light)">
<link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/base16/material.min.css" media="(prefers-color-scheme: dark)">
<link rel="stylesheet" href="https://unpkg.com/@t8/docsgen@0.3/dist/css/code.css">
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/highlight.min.js"></script>
<script>hljs.highlightAll()</script>
<script src="/assets/stats.js"></script>
</body>
</html>
