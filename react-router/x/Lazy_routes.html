<!DOCTYPE html>
<html lang="en" style="--base-color: #3e2b59">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="T8 React Router: Lazy routes">
  <title>Lazy routes | T8 React Router</title>
  <link rel="stylesheet" href="https://unpkg.com/@t8/docsgen@0.2/dist/css/base.css">
  <link rel="stylesheet" href="https://unpkg.com/@t8/docsgen@0.2/dist/css/section.css">
  <link rel="icon" type="image/png" href="/assets/t8.png">
  <link rel="prefetch" href="/react-router/x/Converting_HTML_links_to_SPA_route_links">
  <link rel="prefetch" href="/react-router/x/Unknown_routes">
</head>
<body>
<div class="layout">
<div class="body">
<main>
<h1><a href="/react-router/" class="name">T8 React Router</a></h1>
<h2>Lazy routes</h2>
<p>Lazy routes are routes whose content is loaded on demand, when the route is visited.</p>
<p>Enabling lazy routes doesn't require a specific routing setup. It's a combination of the <a href="/react-router/x/Routing">route matching</a> and lazily loaded React components (with <code>React.lazy()</code> and React's <code>&lt;Suspense&gt;</code>), processed by a code-splitting-capable build tool (like Esbuild, Webpack, Rollup, Vite):</p>
<pre><code class="language-diff">  import { useRoute } from "@t8/react-router";
+ import { Suspense } from "react";
- import { Projects } from "./Projects";
+ import { Projects } from "./Projects.lazy";

  let App = () =&gt; {
    let { at } = useRoute();

    return (
      &lt;&gt;
        // ...
        {at("/projects", (
-         &lt;Projects/&gt;
+         &lt;Suspense fallback={&lt;p&gt;Loading...&lt;/p&gt;}&gt;
+           &lt;Projects/&gt;
+         &lt;/Suspense&gt;
        ))}
      &lt;/&gt;
    );
  };
</code></pre>
<pre><code class="language-diff">+ // Projects.lazy.ts
+ import { lazy } from "react";
+
+ export const Projects = lazy(() =&gt; import("./Projects"));
</code></pre>
<p><a href="https://codesandbox.io/p/sandbox/x75p5w?file=%2Fsrc%2FApp.jsx" target="_blank">Lazy routes live demo</a></p>
<p>In this example, the <code>&lt;Projects&gt;</code> component isn't loaded until the corresponding <code>/projects</code> route is visited. When it's first visited, while the component is being fetched, <code>&lt;p&gt;Loading...&lt;/p&gt;</code> shows up, as specified with the <code>fallback</code> prop of <code>&lt;Suspense&gt;</code>.</p>
<p class="b1 pagenav">
  <span class="prev">
    <span class="icon">←</span>
    <a href="/react-router/x/Unknown_routes">Unknown routes</a>
  </span>
  <span class="sep">|</span>
  <span class="next"><a href="/react-router/x/Converting_HTML_links_to_SPA_route_links">Converting HTML links to SPA route links</a> <span class="icon">→</span></span>
</p>
</main>
<hr>
<nav class="b1">
<section><ul>
<li data-id="Routing"><a href="/react-router/x/Routing">Routing</a></li>
<li data-id="Navigation"><a href="/react-router/x/Navigation">Navigation</a></li>
<li data-id="Middleware"><a href="/react-router/x/Middleware">Middleware</a></li>
<li data-id="URL_parameters"><a href="/react-router/x/URL_parameters">URL parameters</a></li>
<li data-id="Type_safety"><a href="/react-router/x/Type_safety">Type safety</a></li>
<li data-id="Nested_routes"><a href="/react-router/x/Nested_routes">Nested routes</a></li>
<li data-id="Location_provider"><a href="/react-router/x/Location_provider">Location provider</a></li>
<li data-id="Custom_routing_behavior"><a href="/react-router/x/Custom_routing_behavior">Custom routing behavior</a></li>
<li data-id="Unknown_routes"><a href="/react-router/x/Unknown_routes">Unknown routes</a></li>
<li data-id="Lazy_routes"><strong>Lazy routes</strong></li>
<li data-id="Converting_HTML_links_to_SPA_route_links"><a href="/react-router/x/Converting_HTML_links_to_SPA_route_links">Converting HTML links to SPA route links</a></li>
</ul></section>
<section class="ref">
  <ul>
    <li><a href="https://github.com/t8js/react-router" target="_blank">GitHub</a></li>
  </ul>
</section>
<section class="related">
  <p class="title">Also with React</p>
  <ul>
    <li><a href="/react-store" data-name="@t8/react-store">T8 <strong>React Store</strong></a></li>
    <li><a href="/react-pending" data-name="@t8/react-pending">T8 <strong>React Pending</strong></a></li>
  </ul>
  <p class="title">Vanilla TS/JS</p>
  <ul>
    <li><a href="/router" data-name="@t8/router">T8 <strong>Router</strong></a></li>
    <li><a href="/store" data-name="@t8/store">T8 <strong>Store</strong></a></li>
  </ul>
</section>
</nav>
</div>
</div>
<link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/base16/material.min.css">
<link rel="stylesheet" href="https://unpkg.com/@t8/docsgen@0.2/dist/css/code.css">
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/highlight.min.js"></script>
<script>hljs.highlightAll()</script>
<script src="/assets/stats.js"></script>
</body>
</html>
